{
  "info": {
    "_postman_id": "vendor-app-collection-uuid",
    "name": "BuyLock Vendor App API",
    "description": "JWT-based API collection for BuyLock Vendor mobile app - comprehensive vendor dashboard for managing products, services, orders, and earnings",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": {
      "major": 2,
      "minor": 0,
      "patch": 0
    }
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{vendor_access_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "{{base_url}}",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "ðŸ” Vendor Authentication",
      "item": [
        {
          "name": "Vendor Login (JWT)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    pm.test('Vendor login successful with tokens', function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('vendor');",
                  "        pm.expect(jsonData).to.have.property('tokens');",
                  "        pm.expect(jsonData.tokens).to.have.property('accessToken');",
                  "        pm.expect(jsonData.tokens).to.have.property('refreshToken');",
                  "        ",
                  "        // Store vendor tokens and information",
                  "        pm.environment.set('vendor_access_token', jsonData.tokens.accessToken);",
                  "        pm.environment.set('vendor_refresh_token', jsonData.tokens.refreshToken);",
                  "        pm.environment.set('vendor_id', jsonData.vendor.id);",
                  "        pm.environment.set('vendor_name', jsonData.vendor.businessName);",
                  "        pm.environment.set('vendor_email', jsonData.vendor.email);",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-Auth-Type",
                "value": "token",
                "description": "Request JWT tokens instead of session"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"vendor@buylock.com\",\n  \"password\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/vendor/login",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "login"]
            },
            "description": "Authenticate vendor and receive JWT tokens"
          },
          "response": []
        },
        {
          "name": "Refresh Vendor Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "if (pm.response.code === 200) {",
                  "    pm.test('Vendor token refreshed successfully', function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('tokens');",
                  "        pm.expect(jsonData.tokens).to.have.property('accessToken');",
                  "        ",
                  "        // Update vendor access token",
                  "        pm.environment.set('vendor_access_token', jsonData.tokens.accessToken);",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{vendor_refresh_token}}\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/vendor/refresh-token",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "refresh-token"]
            },
            "description": "Refresh vendor access token using refresh token"
          },
          "response": []
        },
        {
          "name": "Get Vendor Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/me",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "me"]
            },
            "description": "Get vendor profile information using JWT token"
          },
          "response": []
        }
      ],
      "description": "Vendor authentication and profile management using JWT tokens"
    },
    {
      "name": "ðŸ“Š Dashboard",
      "item": [
        {
          "name": "Get Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/stats",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "stats"]
            },
            "description": "Get vendor dashboard statistics"
          },
          "response": []
        },
        {
          "name": "Get Recent Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/orders?limit=10&sort=newest",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "orders"],
              "query": [
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "sort",
                  "value": "newest"
                }
              ]
            },
            "description": "Get recent vendor orders and activity"
          },
          "response": []
        }
      ],
      "description": "Vendor dashboard and analytics"
    },
    {
      "name": "ðŸ›ï¸ Products Management",
      "item": [
        {
          "name": "Get My Products",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().length > 0) {",
                  "    pm.test('Set first product ID for testing', function () {",
                  "        var product = pm.response.json()[0];",
                  "        pm.expect(product).to.have.property('id');",
                  "        pm.environment.set('product_id', product.id);",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/products?limit=50",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "products"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "status",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Get all products for the authenticated vendor"
          },
          "response": []
        },
        {
          "name": "Create Product",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 || pm.response.code === 201) {",
                  "    pm.test('Product created successfully', function () {",
                  "        var jsonData = pm.response.json();",
                  "        pm.expect(jsonData).to.have.property('id');",
                  "        pm.environment.set('new_product_id', jsonData.id);",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"New Product via Mobile API\",\n  \"description\": \"This product was created using the mobile vendor app\",\n  \"price\": 2500.00,\n  \"categoryId\": \"{{category_id}}\",\n  \"stock\": 25,\n  \"imageUrl\": \"https://via.placeholder.com/400x300?text=Mobile+Product\",\n  \"tags\": [\"mobile\", \"app\", \"vendor\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/vendor/products",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "products"]
            },
            "description": "Create a new product for the vendor"
          },
          "response": []
        },
        {
          "name": "Update Product",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Product Name\",\n  \"price\": 3000.00,\n  \"stock\": 30,\n  \"active\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/vendor/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "products", "{{product_id}}"]
            },
            "description": "Update an existing product"
          },
          "response": []
        },
        {
          "name": "Get Product Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "products", "{{product_id}}"]
            },
            "description": "Get detailed product information"
          },
          "response": []
        },
        {
          "name": "Delete Product",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "products", "{{product_id}}"]
            },
            "description": "Delete a product"
          },
          "response": []
        }
      ],
      "description": "Product management for vendors"
    },
    {
      "name": "ðŸ”§ Services Management",
      "item": [
        {
          "name": "Get My Services",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().length > 0) {",
                  "    pm.test('Set first service ID for testing', function () {",
                  "        var service = pm.response.json()[0];",
                  "        pm.expect(service).to.have.property('id');",
                  "        pm.environment.set('service_id', service.id);",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/services?limit=50",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "services"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                }
              ]
            },
            "description": "Get all services for the authenticated vendor"
          },
          "response": []
        },
        {
          "name": "Create Service",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"New Service via Mobile API\",\n  \"description\": \"This service was created using the mobile vendor app\",\n  \"price\": 5000.00,\n  \"priceType\": \"hourly\",\n  \"categoryId\": \"{{service_category_id}}\",\n  \"location\": \"Nairobi, Kenya\",\n  \"isAvailableToday\": true,\n  \"imageUrl\": \"https://via.placeholder.com/400x300?text=Mobile+Service\",\n  \"tags\": [\"mobile\", \"app\", \"service\"]\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/vendor/services",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "services"]
            },
            "description": "Create a new service for the vendor"
          },
          "response": []
        },
        {
          "name": "Update Service",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Service Name\",\n  \"price\": 6000.00,\n  \"active\": true,\n  \"isAvailableToday\": false\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/vendor/services/{{service_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "services", "{{service_id}}"]
            },
            "description": "Update an existing service"
          },
          "response": []
        },
        {
          "name": "Get Service Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/services/{{service_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "services", "{{service_id}}"]
            },
            "description": "Get detailed service information"
          },
          "response": []
        },
        {
          "name": "Delete Service",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/services/{{service_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "services", "{{service_id}}"]
            },
            "description": "Delete a service"
          },
          "response": []
        }
      ],
      "description": "Service management for vendors"
    },
    {
      "name": "ðŸ“‹ Orders Management",
      "item": [
        {
          "name": "Get My Orders",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.json().length > 0) {",
                  "    pm.test('Set first order ID for testing', function () {",
                  "        var order = pm.response.json()[0];",
                  "        pm.expect(order).to.have.property('id');",
                  "        pm.environment.set('vendor_order_id', order.id);",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/orders?limit=50",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "orders"],
              "query": [
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "status",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Get all orders for the authenticated vendor"
          },
          "response": []
        },
        {
          "name": "Get Order Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/orders/{{vendor_order_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "orders", "{{vendor_order_id}}"]
            },
            "description": "Get detailed order information"
          },
          "response": []
        },
        {
          "name": "Accept Order",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"estimatedPreparationTime\": \"2 hours\",\n  \"vendorNotes\": \"Order confirmed and in preparation\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/vendor/orders/{{vendor_order_id}}/accept",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "orders", "{{vendor_order_id}}", "accept"]
            },
            "description": "Accept and confirm an order"
          },
          "response": []
        },
        {
          "name": "Update Order Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"ready_for_pickup\",\n  \"notes\": \"Order is ready for courier pickup\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/vendor/orders/{{vendor_order_id}}/status",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "orders", "{{vendor_order_id}}", "status"]
            },
            "description": "Update order status and notify customer"
          },
          "response": []
        },
        {
          "name": "Mark Order Ready",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/orders/{{vendor_order_id}}/ready",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "orders", "{{vendor_order_id}}", "ready"]
            },
            "description": "Mark order as ready for courier pickup"
          },
          "response": []
        },
        {
          "name": "Cancel Order",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Out of stock\",\n  \"refundAmount\": 2500.00\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/vendor/orders/{{vendor_order_id}}/cancel",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "orders", "{{vendor_order_id}}", "cancel"]
            },
            "description": "Cancel an order with reason and refund"
          },
          "response": []
        }
      ],
      "description": "Order management and fulfillment"
    },
    {
      "name": "ðŸ’° Earnings",
      "item": [
        {
          "name": "Get Earnings Summary",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/earnings?period=month",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "earnings"],
              "query": [
                {
                  "key": "period",
                  "value": "month"
                },
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "2025-12-31",
                  "disabled": true
                }
              ]
            },
            "description": "Get vendor earnings summary for specified period"
          },
          "response": []
        },
        {
          "name": "Get Earnings Transactions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/earnings/transactions?page=1&limit=50",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "earnings", "transactions"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "type",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Get detailed earnings transaction history"
          },
          "response": []
        },
        {
          "name": "Request Payout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 50000,\n  \"bankAccount\": {\n    \"accountNumber\": \"1234567890\",\n    \"bankName\": \"Kenya Commercial Bank\",\n    \"accountName\": \"Vendor Business Name\"\n  },\n  \"reason\": \"Monthly payout request\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/vendor/earnings/payout",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "earnings", "payout"]
            },
            "description": "Request payout of earned funds"
          },
          "response": []
        },
        {
          "name": "Get Payout History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{vendor_access_token}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/vendor/earnings/payouts?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["api", "vendor", "earnings", "payouts"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "status",
                  "value": "",
                  "disabled": true
                }
              ]
            },
            "description": "Get payout request history and status"
          },
          "response": []
        }
      ],
      "description": "Vendor earnings and payout management"
    }
  ]
}